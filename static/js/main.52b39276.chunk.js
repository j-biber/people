(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,a,t){e.exports=t(22)},,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(4),s=t.n(i),l=t(1),c=t(2),o=t(6),u=t(5),m=t(7),d=(t(14),t(15),function(e){var a=e.isGrid,t=e.onLayoutChange,n=e.onRefresh,i=e.onPageLinkClick;return r.a.createElement("nav",null,r.a.createElement("ul",{className:"page-navigation"},r.a.createElement("li",null,r.a.createElement("a",{href:".",onClick:i},"About")),r.a.createElement("li",null,r.a.createElement("a",{href:".",onClick:n},r.a.createElement("i",{className:"fas fa-redo-alt"}))),a?r.a.createElement("li",null,r.a.createElement("a",{href:".",onClick:t},r.a.createElement("i",{className:"fas fa-list"}))):r.a.createElement("li",null,r.a.createElement("a",{href:".",onClick:t},r.a.createElement("i",{className:"fas fa-grip-horizontal"})))))}),h=function(e){var a=e.isGrid,t=e.onLayoutChange,n=e.onRefresh,i=e.onPageLinkClick;return r.a.createElement("header",null,r.a.createElement("div",{className:"app-width flex-row header"},r.a.createElement("div",{className:"logo"},r.a.createElement("a",{href:".",onClick:i},"Bit People")),r.a.createElement(d,{isGrid:a,onLayoutChange:t,onRefresh:n,onPageLinkClick:i})))},f=function(e){var a=e.lastFetched;return r.a.createElement("footer",null,r.a.createElement("div",{className:"app-width flex-row footer"},r.a.createElement("span",null,"Copyright 2019"),r.a.createElement("div",null,"Last update: ",a," ago")))},p=(t(16),function(e){var a=e.gender,t=e.picture,n=e.fullName,i=e.email,s=e.dob;return r.a.createElement("li",{className:"female"===a?"card genderColor":"card"},r.a.createElement("img",{src:t,className:"card-img-top",alt:"..."}),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"username"},n),r.a.createElement("div",{className:"email-address"},r.a.createElement("i",{className:"fas fa-envelope"}),i),r.a.createElement("div",{className:"dob"},r.a.createElement("i",{className:"fas fa-birthday-cake"}),s)))});p.defaultProps={picture:"https://via.placeholder.com/300.png?text=User+Image",dob:"User did not provide its date of birthday"};t(17);var v=function(e){var a=e.gender,t=e.picture,n=e.fullName,i=e.email,s=e.dob;return r.a.createElement("li",{className:"female"===a?"media my-4 genderColor":"media my-4"},r.a.createElement("img",{src:t,className:"mr-3",alt:"..."}),r.a.createElement("div",{className:"media-body"},r.a.createElement("div",{className:"username"},"Name: ",n),r.a.createElement("div",{className:"email-address"},r.a.createElement("i",{className:"fas fa-envelope"}),i),r.a.createElement("div",{className:"dob"},r.a.createElement("i",{className:"fas fa-birthday-cake"}),s)))};v.defaultProps={picture:"https://via.placeholder.com/300.png?text=User+Image",dob:"User did not provide its date of birthday"};var g=function(e){var a=e.isGrid,t=e.users.map(function(e,t){var n=e.gender,i=e.picture,s=i.large,l=i.thumbnail,c=e.fullName,o=e.emailEncrypted,u=e.dob;return a?r.a.createElement(p,{key:t,gender:n,picture:s,fullName:c,email:o,dob:u}):r.a.createElement(v,{key:t,gender:n,picture:l,fullName:c,email:o,dob:u})});return r.a.createElement("ul",{className:a?"grid":"list"},t)},E=function(e){var a=e.handleSearch;return r.a.createElement("div",{className:"search input-group mb-3"},r.a.createElement("input",{type:"search",className:"form-control",placeholder:"Search user","aria-label":"Search Users by Name","aria-describedby":"button-addon2",onChange:a}))},b=(t(18),function(e){var a=e.numOfFemales,t=e.numOfMales;return r.a.createElement("div",{className:"stats"},r.a.createElement("div",{className:"stats-female"},"Female: ",a),r.a.createElement("div",{className:"stats-male"},"Male: ",t))}),N=(t(19),function(){return r.a.createElement("div",{className:"no-match"},r.a.createElement("p",null,"We couldn't find any user matching your search."),r.a.createElement("i",{className:"far fa-sad-tear"}))}),y=(t(20),function(){return r.a.createElement("div",{className:"about"},r.a.createElement("div",null,r.a.createElement("h1",null,"About"),r.a.createElement("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis perspiciatis, veritatis, odit totam saepe consequuntur hic dolores nesciunt ad nemo possimus, explicabo a fugit temporibus minima porro ipsum! Praesentium, quibusdam! Hic soluta recusandae quam officiis architecto. Qui in dignissimos omnis. Quis, quos error asperiores architecto enim, recusandae sequi minima minus ex cumque maiores tempore! Consectetur qui ad minus assumenda nihil. Commodi quis nesciunt eius tempore iusto debitis consequuntur autem, quo deleniti ipsum quaerat, fugiat modi facere ducimus earum expedita obcaecati repellat animi alias eveniet doloribus dolore impedit. Provident, harum. Natus!")),r.a.createElement("div",null,r.a.createElement("h3",null,"What we do"),r.a.createElement("p",null,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Voluptate itaque numquam perspiciatis, dolore, alias veniam vero nisi perferendis quos tempore neque commodi tempora natus eveniet ullam temporibus sunt in eum!Aliquam perferendis laboriosam velit quidem, est ullam libero reiciendis incidunt, labore veritatis, ratione quasi in excepturi! Ducimus consequatur quas impedit, vitae incidunt quasi est natus explicabo adipisci laborum fugiat tempore?")))}),k=function(e){var a=e.isGrid,t=e.users,n=e.onSearch,i=e.page,s=t.reduce(function(e,a){return"female"===a.gender&&e++,e},0),l=t.reduce(function(e,a){return"male"===a.gender&&e++,e},0);return r.a.createElement("main",{className:"app-width"},"about"===i?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{handleSearch:n}),t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{numOfFemales:s,numOfMales:l}),r.a.createElement(g,{isGrid:a,users:t})):r.a.createElement(N,null)))},C=function(){function e(a,t,n,r,i,s){Object(l.a)(this,e),this.firstName=a,this.lastName=t,this.email=n,this.dobObj=r,this.picture=i,this.gender=s,this.fullName=this.getFullName(),this.emailEncrypted=this.hideEmailAddress(),this.dob=this.getDOB()}return Object(c.a)(e,[{key:"getDOB",value:function(){return"".concat(this.dobObj.getDate(),".").concat(this.dobObj.getMonth()+1,".").concat(this.dobObj.getFullYear())}},{key:"hideEmailAddress",value:function(){var e=this.email.split("@"),a=e[0].slice(-2),t=e[0].slice(0,3);return"".concat(t,"...").concat(a,"@").concat(e[1])}},{key:"getFullName",value:function(){var e=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return"".concat(e(this.firstName)," ").concat(e(this.lastName))}}]),e}(),L=function(){return fetch("https://randomuser.me/api/?results=100").then(function(e){return e.json()}).then(function(e){return e.results.map(function(e){var a=e.name,t=a.first,n=a.last,r=e.email,i=e.dob.date,s=e.picture,l=e.gender;return new C(t,n,r,new Date(i),s,l)})})},w=(t(21),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"double-bounce1"}),r.a.createElement("div",{className:"double-bounce2"}))}),S=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(u.a)(a).call(this,e))).loadUsers=function(){t.state.users?t.setState({isLoading:!1}):t.fetchUsers()},t.passingTime=function(e){var a,n=Date.now()-e;if(n<6e4&&(a="Less than minute"),n<36e5){var r=Math.floor(n/6e4);a=r<2?"1 minute":"".concat(r," minutes")}if(n<864e5){var i=Math.floor(n/36e5);a=i<2?"Over an hour":"".concat(i," hours")}if(n<6048e5){var s=Math.floor(n/864e5);a=s<2?"Over a day":"".concat(s," days")}a=n<26784e5?"Over a week":"Over a month",t.setState({timePassedSinceLastFetch:a})},t.fetchUsers=function(){var e=t.state.intervalFetch;L().then(function(e){var a=Date.now();return t.setState({users:e,isLoading:!1,lastTimeFetchedUsers:a}),e}).then(function(a){var n,r=t.state.lastTimeFetchedUsers;e?(clearInterval(e),n=setInterval(t.passingTime,1e3,r)):n=setInterval(t.passingTime,1e3,r),t.setState({intervalFetch:n}),localStorage.setItem("users",JSON.stringify(a))})},t.searchUsersByName=function(e){var a=e.target.value.toLowerCase(),n=t.state.users.filter(function(e){return e.fullName.toLowerCase().includes(a)});t.setState({searchedUsers:n})},t.handleRefreshPage=function(e){e.preventDefault(),t.setState({isLoading:!0}),t.fetchUsers()},t.handleLayoutChange=function(e){e.preventDefault();var a=!t.state.isGrid;localStorage.setItem("isGrid",a),t.setState({isGrid:a})},t.handlePageLinkClick=function(e){e.preventDefault(),"About"===e.nativeEvent.target.outerText?t.setState({page:"about"}):t.setState({page:"list"})},t.state={isGrid:"true"===localStorage.getItem("isGrid"),users:localStorage.getItem("users")?JSON.parse(localStorage.getItem("users")):null,isLoading:!0,searchedUsers:null,page:"list",lastTimeFetchedUsers:null,intervalFetch:null,timePassedSinceLastFetch:null},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadUsers()}},{key:"render",value:function(){var e=this.state,a=e.isGrid,t=e.isLoading,n=e.users,i=e.searchedUsers,s=e.page,l=e.timePassedSinceLastFetch,c=i||n;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{isGrid:a,onLayoutChange:this.handleLayoutChange,onRefresh:this.handleRefreshPage,onPageLinkClick:this.handlePageLinkClick}),t?r.a.createElement(w,null):r.a.createElement(k,{isGrid:a,page:s,users:c,onSearch:this.searchUsersByName}),r.a.createElement(f,{lastFetched:l}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.52b39276.chunk.js.map